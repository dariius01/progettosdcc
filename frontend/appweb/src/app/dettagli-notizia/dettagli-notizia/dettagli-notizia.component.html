<div class="container-dettaglio">
  <ng-container *ngIf="loading">
    <p>Caricamento in corso...</p>
  </ng-container>

  <ng-container *ngIf="notizia && !loading">
    <mat-icon class="icon-back" (click)="tornaHome()">arrow_back</mat-icon>

    <h1 class="titolo">{{ notizia.titolo }}</h1>
    <h3 *ngIf="notizia.sottotitolo" class="sottotitolo">{{ notizia.sottotitolo }}</h3>
    <p class="testo">{{ notizia.testo }}</p>
    <p class="data" *ngIf="notizia.data_creazione">
      Pubblicato il: {{ notizia.data_creazione | date:'dd/MM/yyyy HH:mm' }}
    </p>
    <p class="data" *ngIf="notizia.data_modifica && notizia.data_modifica !== notizia.data_creazione">
      Modificato il: {{ notizia.data_modifica | date:'dd/MM/yyyy HH:mm' }}
    </p>

    <div class="action-icons-bottom">
      <button (click)="vaiAModifica()" title="Modifica" class="btn-modifica-bottom">
        <mat-icon>edit</mat-icon> Modifica
      </button>
      <button (click)="scaricaPDF()" title="Scarica" class="btn-scarica-bottom">
        <mat-icon>download</mat-icon> Scarica
      </button>
      <button (click)="onEliminaNotizia()" title="Elimina" class="btn-elimina-bottom">
        <mat-icon>delete</mat-icon> Elimina
      </button>
    </div>
  </ng-container>

  <!-- Popup conferma eliminazione -->
  <div class="modal-overlay" *ngIf="mostraConfermaEliminazione">
    <div class="modal-content modal-danger">
      <h3>⚠️ Conferma eliminazione</h3>
      <p>Sei sicuro di voler eliminare questa notizia?</p>
      <div class="modal-actions">
        <button class="modal-btn-conferma" (click)="confermaEliminazione()">Elimina</button>
        <button class="modal-btn-nega" (click)="annullaEliminazione()">Annulla</button>
      </div>
    </div>
  </div>

  <!-- Popup successo eliminazione -->
  <div class="modal-overlay" *ngIf="mostraSuccessoEliminazione">
    <div class="modal-content modal-success">
      <h3> Eliminazione completata!</h3>
      <p>La notizia è stata eliminata con successo.</p>
      <div class="modal-actions">
        <button class="modal-btn-ok" (click)="vaiAllaHome()">OK</button>
      </div>
    </div>
  </div>
</div>